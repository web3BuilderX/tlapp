(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{1336:function(e,t,n){var content=n(1352);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(84).default)("2c441b52",content,!0,{sourceMap:!1})},1351:function(e,t,n){"use strict";var o=n(1336);n.n(o).a},1352:function(e,t,n){(e.exports=n(78)(!1)).push([e.i,".main-container{width:100%}\n",""])},1369:function(e,t,n){"use strict";n.r(t);n(59),n(51),n(40),n(46),n(100),n(47);var o=n(0),r=(n(112),n(128),n(129),n(38),n(3)),c=n(18);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var d,k,f={computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.c)("common",["isMobile","language"]),{},Object(c.c)("bulksender",["bulksenderAddress","txUrl"]),{},Object(c.c)("token",["balance","tokenAddress","allowanceEnough","balanceEnough"]),{},Object(c.c)("metamask",["ethAccount","isFetching","tokens","netId"]),{},Object(c.b)("common",["translationWord"]),{},Object(c.b)("token",["isERC721","isNFTToken","isERC1155"]),{step:{get:function(){return this.$store.state.common.step},set:function(e){this.$store.dispatch("common/updateStep",{step:e})}},tokenBalance:function(){return this.$store.state.token.balance},tokens:function(){var e=this.$store.state.metamask.tokens,t=[];return e.forEach((function(e){e.isETH||t.push(e)})),t},tokenAddress:{get:function(){return this.$store.state.token.address},set:function(address){this.$store.dispatch("token/setTokenAddress",{address:address})}},allowanceNumber:function(){var e=this.$store.getters["token/allowanceNumber"];return-1==e?this.translationWord.home.approveOptionUnlimited:e},decimals:{get:function(){return null==this.$store.state.token.tokenSelected?"":this.$store.state.token.tokenSelected.decimals}},tokenSelected:{get:function(){return this.$store.state.token.tokenSelected},set:function(e){this.$store.dispatch("token/setTokenSelected",{selected:e})}},finalAmount:function(){return this.$store.state.common.addressInfo.finalAmount},tokenBalanceLoaded:function(){return this.$store.state.token.tokenBalanceLoaded},tokenAllowanceLoaded:function(){return this.$store.state.token.tokenAllowanceLoaded},tokenInfoLoaded:function(){return this.$store.state.token.tokenInfoLoaded},approveTx:function(){return this.$store.state.token.approveTx},approveTxStatus:{get:function(){return this.$store.state.token.approveTxStatus},set:function(e){this.$store.dispatch("token/setAproveTxStatus",{status:e})}},filteredTokens:{get:function(){var e=this;return this.tokens.filter((function(option){if(null==e.selectedTokenInfo||""==e.selectedTokenInfo)return t,!0;var t=option.symbol.toString().toLowerCase().indexOf(e.selectedTokenInfo.toLowerCase())>=0||option.contractAddress.toString().toLowerCase().indexOf(e.selectedTokenInfo.toLowerCase())>=0||option.name.toString().toLowerCase().indexOf(e.selectedTokenInfo.toLowerCase())>=0;return t&&t,t}))}}}),created:function(){var e=this;this.$nextTick(Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.buttonLoading=!1,t.next=3,e.$store.dispatch("token/checkLastTokenSelected");case 3:null==e.tokenSelected||e.tokenSelected.isETH||e.updateSelectTokenInfo(e.tokenSelected),e.$store.dispatch("common/clearUsedParams");case 5:case"end":return t.stop()}}),t)}))))},watch:{tokenAddress:function(e){null!=e&&""!=e&&0==this.errorType&&(this.errorType=-1)},selectedTokenInfo:function(e){e=e.replace(/\s+/g,"")},tokenSelected:function(e){this.updateSelectTokenInfo(e)},approveTxStatus:function(e){this.buttonLoading=-2!=e&&1!=e&&-1!=e}},mounted:function(){window.onload=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),this.$refs.autocomplete.$el.querySelector(".control .input").type="search"},fetch:function(e){e.store},data:function(){return{buttonLoading:!0,errorType:-1,showCheckingApprove:!1,selectedTokenInfo:"",lastSelectedTokenInfo:"",approveButtonDisable:!1,approve_type:0,blured:!1}},methods:{revokeAllowance:(k=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.approveButtonDisable=!0,!this.isNFTToken){e.next=6;break}return e.next=4,this.$store.dispatch("token/revokeApproveOfBulksenderForNFTToken");case 4:e.next=9;break;case 6:return e.next=9,this.$store.dispatch("token/approveForBulksender",{amount:0});case 9:this.approveButtonDisable=!1;case 10:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)}),selectToken:function(option){this.updateSelectTokenInfo(option)},updateSelectTokenInfo:function(option){null!=option&&null!=option&&(this.selectedTokenInfo="",option.isETH?this.selectedTokenInfo=option.symbol+" - "+option.name:this.selectedTokenInfo=option.symbol+" - "+option.contractAddress,this.tokenSelected=option,this.tokenAddress=option.contractAddress)},prepareToSelectToken:function(){},tokenTyping:function(){},updateLastSelectedInfo:function(){var e=JSON.parse(JSON.stringify({selectedTokenInfo:this.selectedTokenInfo}));this.lastSelectedTokenInfo=e.selectedTokenInfo},clickTokenField:function(){""==this.selectedTokenInfo||this.isMobile||(this.blured?this.blured=!1:this.selectedTokenInfo="")},endSelectToken:(d=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n,option,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.selectedTokenInfo.replace("Loading - ",""),0!=this.filteredTokens.length&&this.filteredTokens.length==this.tokens.length||""==t||0!=t.indexOf("0x")){e.next=10;break}return this.selectedTokenInfo="Loading - "+t,e.next=5,this.$store.dispatch("token/parseInsertTokenAddress",{tokenAddress:t});case 5:return n=e.sent,null!=this.tokenSelected&&(option=this.tokenSelected,this.updateSelectTokenInfo(option)),e.abrupt("return",n);case 10:this.blured=!0,(""==this.selectedTokenInfo||this.filteredTokens.length>0&&this.filteredTokens.length!=this.tokens.length)&&!this.isMobile&&setTimeout((function(){o.updateSelectTokenInfo(o.tokenSelected)}),300);case 13:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})}},h=n(33),v={name:"revoke",components:{RevokeAllowance:Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-container"},[n("div",{staticClass:"content-container"},[n("p",{staticClass:"label medium"},[e._v(e._s(e.translationWord.revoke.revokeTitle))]),e._v(" "),n("p",{staticClass:"margin-v"},[e._v(e._s(e.translationWord.revoke.revokeDescription))]),e._v(" "),n("div",{staticClass:"forms"},[n("b-field",{attrs:{label:e.isERC721?e.translationWord.home.tokenSelectedTitle+" (ERC721)":e.isERC1155?e.translationWord.home.tokenSelectedTitle+" (ERC1155)":""+e.translationWord.home.tokenSelectedTitle}},[n("b-autocomplete",{ref:"autocomplete",attrs:{field:"tokenAddress",data:e.filteredTokens,placeholder:e.translationWord.home.tokenSelectedPlaceholder,size:"is-medium","dropdown-position":"bottom","clear-on-select":!0,"open-on-focus":!0,icon:"chevron-down",loading:e.isFetching,"icon-clickable":!0},on:{input:function(t){return e.prepareToSelectToken()},focus:function(t){return e.clickTokenField()},select:function(option){return e.selectToken(option)},blur:function(t){return e.endSelectToken()}},nativeOn:{click:function(t){return e.clickTokenField()}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"media"},[n("div",{staticClass:"media-content"},[t.option.isETH?n("label",[e._v("\n                          "+e._s(t.option.symbol)+" - "+e._s(t.option.name)+"\n                        ")]):n("label",[e._v("\n                          "+e._s(t.option.symbol)+" - "+e._s(t.option.contractAddress)+"\n                        ")])])])]}}]),model:{value:e.selectedTokenInfo,callback:function(t){e.selectedTokenInfo=t},expression:"selectedTokenInfo"}},[e._v(" "),n("template",{slot:"footer"},[n("span",{staticClass:"autocomplete-footer"},[e._v(e._s(e.translationWord.home.manuallyInsertTokenAddress)+" ")])])],2)],1),e._v(" "),null!=e.tokenSelected&&e.tokenAllowanceLoaded&&!e.tokenSelected.isETH?n("p",{staticClass:"tokenAllowanceInfo margin-v"},[e._v(e._s(e.translationWord.revoke.currentAllowance)+": "+e._s(e._f("1000")(e.allowanceNumber,e.decimals))+" "+e._s(e.tokenSelected.symbol))]):e._e(),e._v(" "),n("div",[""!=e.approveTx?n("div",[n("p",{staticClass:"label"},[e._v(e._s(e.translationWord.confirm.approveHashTitle))]),e._v(" "),e.isMobile?n("a",{staticClass:"text-link approveTx-a",attrs:{target:"_blank",href:""+e.txUrl+e.approveTx}},[e._v(e._s(e._f("truncate")(e.approveTx,64)))]):n("a",{staticClass:"text-link approveTx-a",attrs:{target:"_blank",href:""+e.txUrl+e.approveTx}},[e._v(e._s(e.approveTx))]),e._v(" "),0==e.approveTxStatus?n("span",{staticClass:"tx-loading-white"}):e._e(),e._v(" "),1==e.approveTxStatus?n("b-icon",{attrs:{icon:"check-circle",size:"is-small",type:"is-success"}}):e._e(),e._v(" "),-2==e.approveTxStatus?n("b-icon",{attrs:{icon:"close-circle",size:"is-small",type:"is-danger"}}):e._e(),e._v(" "),n("p",{staticClass:"padding-medium"})],1):e._e(),e._v(" "),n("b-button",{staticClass:"is-fullwidth is-success",attrs:{loading:e.buttonLoading,disabled:e.approveButtonDisable||0==e.allowanceNumber||e.tokenSelected.isETH},on:{click:e.revokeAllowance}},[n("span",[e._v(e._s(e.translationWord.button.revoke))])])],1)],1)])])}),[],!1,null,null,null).exports}},m=(n(1351),Object(h.a)(v,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main-container"},[t("RevokeAllowance")],1)}),[],!1,null,null,null));t.default=m.exports}}]);