(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{1340:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(737);var o=n(2);function c(address){arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return Object(o.isAddress)(address)}catch(t){return Object(o.isAddress)(address)}}},1390:function(t,e,n){"use strict";n.r(e);n(59),n(52),n(39),n(37),n(48),n(179);var o=n(4),c=(n(130),n(210),n(44),n(0)),r=(n(113),n(114),n(1340)),l=n(1),d=n(19);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h,f,k={name:"LockView",computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.b)("common",["translationWord"]),{},Object(d.c)("lock",["contractAddress"]),{},Object(d.c)("metamask",["publicTokenImg"]),{totalLocked:function(){if(this.allReady){var t=Object(l.a)(0);return this.userLocks.forEach((function(e,i){t=t.plus(Object(l.a)(e.amount))})),t.div(Object(l.a)(10).pow(this.tokenInfo.decimals)).toString(10)}return 0},unlockableLocks:function(){if(this.allReady){var t=0,e=(new Date).getTime();return this.userLocks.forEach((function(n,i){e>=1e3*n.unlockDate&&(t+=1)})),t}return 0},nextUnlockDate:function(){return this.userLocks&&this.userLocks.length?this.userLocks[0].unlockDate:0},allReady:function(){return this.tokenInfo&&this.userLocks},percentOfSupply:function(){return this.allReady?Object(l.a)(this.totalLocked).times(Object(l.a)(10).pow(this.tokenInfo.decimals)).div(Object(l.a)(this.tokenInfo.supply)).times(Object(l.a)(100)).toFixed(2).toString(10):-1}}),components:{},props:{tokenAddress:{type:String,default:null}},data:function(){return{lockIndex:-1,userLocks:null,totalLocks:0,tokenInfo:null}},watch:{contractAddress:function(t){t&&(this.fetchTokenInfo(),this.fetchUserLocksByToken())},percentOfSupply:function(t){-1!=t&&"-1"!=t&&this.executeCircleProcess()}},mounted:function(){var t=this.$route.params.pathMatch;t&&t.split("/").length>=1&&(this.tokenAddress=t.split("/")[0]),t&&t.split("/").length>=2&&(this.lockIndex=t.split("/")[1]),this.fetchTokenInfo(),this.fetchUserLocksByToken()},methods:{tokenImg:function(t){return this.publicTokenImg[t.toLowerCase()]},fetchUserLocksByToken:(f=Object(c.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tokenAddress||!Object(r.a)(this.tokenAddress)){t.next=6;break}return t.next=3,this.$store.dispatch("lock/getUserLocksByToken",{tokenAddress:this.tokenAddress});case 3:e=t.sent,this.totalLocks=e.total,this.userLocks=e.locks;case 6:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)}),fetchTokenInfo:(h=Object(c.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tokenAddress||!Object(r.a)(this.tokenAddress)){t.next=5;break}return t.next=3,this.$store.dispatch("token/bulkQueryTokenBaseInfo",{tokens:[this.tokenAddress],includedLPInfo:!0,includedSupply:!0,includedDexInfo:!0});case 3:(e=t.sent)&&e.length&&(this.tokenInfo=e[0]);case 5:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)}),getAmountH:function(t){return Object(l.a)(t).div(Object(l.a)(10).pow(this.tokenInfo.decimals)).toString(10)},executeCircleProcess:function(){var t=this,e=document.querySelectorAll(".circular-progress");Array.from(e).forEach((function(e){var n=e.querySelector(".percentage"),o=e.querySelector(".inner-circle"),c=0,r=t.percentOfSupply,l=e.getAttribute("data-progress-color"),progress=setInterval((function(){c++,r<1&&(c=r),n.textContent="".concat(c,"%"),o.style.backgroundColor="".concat(e.getAttribute("data-inner-circle-color")),e.style.background="conic-gradient(".concat(l," ").concat(3.6*c,"deg,").concat(e.getAttribute("data-bg-color")," 0deg)"),c>=r&&clearInterval(progress)}),50)}))}}},m=n(36),_=Object(m.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.tokenInfo?n("div",{staticClass:"token-info-container margin-v medium-bottom"},[n("div",{staticClass:"c-flex"},[n("div",[n("div",{staticClass:"c-flex v-center"},[n("div",{staticClass:"avatar"},[t.tokenImg(t.tokenInfo.tokenAddress)?[n("img",{attrs:{src:t.tokenImg(t.tokenInfo.tokenAddress)}})]:[n("span",{staticClass:"symbol-icon"},[t._v(t._s(t._f("substr")(t.tokenInfo.symbol,3)))])]],2),t._v(" "),n("div",{staticClass:"font-bold"},[t._v(t._s(t.tokenInfo.name))]),t._v(" "),n("div",{staticClass:"margin-h mini"},[t._v(t._s(t.tokenInfo.symbol))]),t._v(" "),n("img",{staticClass:"explorer margin-h mini",attrs:{src:"/etherscan.svg"}})]),t._v(" "),t.tokenInfo.token0Symbol?n("div",{staticClass:"lp-pair"},[n("span",{staticClass:"icon"},[t.tokenInfo.icon?n("img",{attrs:{src:t.tokenInfo.icon}}):t._e()]),t._v(" "),n("span",{staticClass:"font-bold is-medium"},[t._v(t._s(t.tokenInfo.token0Symbol)+" / "+t._s(t.tokenInfo.token1Symbol))]),t._v(" "),n("img",{staticClass:"explorer dextools margin-h",attrs:{src:"/dextools.svg"}})]):t._e()])]),t._v(" "),n("div",{staticClass:"extra-info margin-v"},[n("div",{staticClass:"supply-info"},[n("div",{staticClass:"circular-progress",attrs:{"data-inner-circle-color":"#044249","data-percentage":t.percentOfSupply,"data-progress-color":"#41FFC8","data-bg-color":"#00837D"}},[n("div",{staticClass:"inner-circle"}),t._v(" "),n("p",{staticClass:"percentage"})]),t._v(" "),n("div",{staticClass:"right-info"},[n("div",{staticClass:"total-lock"},[n("p",{staticClass:"info-title"},[t._v("Total Locked")]),t._v(" "),n("p",{staticClass:"font-bold value"},[t._v(t._s(t.totalLocked))])]),t._v(" "),n("div",{staticClass:"total-supply"},[n("p",{staticClass:"info-title"},[t._v("Total Supply")]),t._v(" "),n("p",{staticClass:"font-bold value"},[t._v(t._s(t.getAmountH(t.tokenInfo.supply)))])])])]),t._v(" "),n("div",{staticClass:"more-info"},[n("div",[n("p",{staticClass:"info-title"},[t._v("Total Locks")]),t._v(" "),n("p",{staticClass:"font-bold value"},[t._v(t._s(t.totalLocks))])]),t._v(" "),n("div",[n("p",{staticClass:"info-title"},[t._v("Unlockable Locks")]),t._v(" "),n("p",{staticClass:"font-bold value"},[t._v(t._s(t.unlockableLocks))])]),t._v(" "),n("div",{staticClass:"bottom-item"},[n("p",{staticClass:"info-title"},[t._v("Next Unlock date")]),t._v(" "),n("p",{staticClass:"font-bold value"},[t.nextUnlockDate?n("span",[t._v(t._s(t._f("dateFormat")(t.nextUnlockDate)))]):n("span",[t._v("Unknown")])])])])])]):n("div",{staticClass:"token-info-container margin-v medium-bottom"},[n("div",{staticClass:"c-flex"},[n("div",[n("div",{staticClass:"c-flex v-center margin-v small"},[n("div",{staticClass:"avatar"},[n("b-skeleton",{attrs:{circle:"",width:"36px",height:"36px"}})],1),t._v(" "),n("div",[n("b-skeleton",{attrs:{animated:!0,count:1,width:"100px",height:"15px"}})],1)]),t._v(" "),n("div",{staticClass:"lp-pair"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"145px",height:"15px"}})],1)])]),t._v(" "),n("div",{staticClass:"extra-info margin-v"},[n("div",{staticClass:"supply-info"},[n("div",{staticClass:"circular-progress"},[n("b-skeleton",{attrs:{circle:"",width:"120px",height:"120px"}})],1),t._v(" "),n("div",{staticClass:"right-info"},[n("div",{staticClass:"total-lock"},[n("p",{staticClass:"info-title"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"60px",height:"14px"}})],1),t._v(" "),n("p",{staticClass:"font-bold value"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"120px",height:"17px"}})],1)]),t._v(" "),n("div",{staticClass:"total-supply"},[n("p",{staticClass:"info-title"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"60px",height:"14px"}})],1),t._v(" "),n("p",{staticClass:"font-bold value"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"120px",height:"17px"}})],1)])])]),t._v(" "),n("div",{staticClass:"more-info"},[n("div",[n("p",{staticClass:"info-title"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"60px",height:"14px"}})],1),t._v(" "),n("p",{staticClass:"font-bold value"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"120px",height:"17px"}})],1)]),t._v(" "),n("div",[n("p",{staticClass:"info-title"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"60px",height:"14px"}})],1),t._v(" "),n("p",{staticClass:"font-bold value"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"120px",height:"17px"}})],1)]),t._v(" "),n("div",{staticClass:"bottom-item"},[n("p",{staticClass:"info-title"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"60px",height:"14px"}})],1),t._v(" "),n("p",{staticClass:"font-bold value"},[n("b-skeleton",{attrs:{animated:!0,count:1,width:"120px",height:"17px"}})],1)])])])]),t._v(" "),t._m(0),t._v(" "),t.userLocks?t._l(t.userLocks,(function(e,o){return n("div",{staticClass:"lock-item is-list lock-content"},[n("div",[n("p",{staticClass:"header-title"},[t._v("Locked")]),t.tokenInfo?n("p",{staticClass:"value"},[t._v(t._s(t.getAmountH(e.amount)))]):t._e()]),t._v(" "),n("div",[n("p",{staticClass:"header-title"},[t._v("Owner")]),n("p",{staticClass:"value"},[t._v(t._s(t._f("truncate")(e.owner,20)))])]),t._v(" "),n("div",[n("p",{staticClass:"header-title"},[t._v("Lock Date")]),n("p",{staticClass:"value"},[t._v(t._s(t._f("dateFormat")(e.lockDate)))])]),t._v(" "),n("div",[n("p",{staticClass:"header-title"},[t._v("Unlock Date")]),n("p",{staticClass:"value"},[t._v(t._s(t._f("dateFormat")(e.unlockDate)))])]),t._v(" "),t._m(1,!0),t._v(" "),t._m(2,!0)])})):n("div",{staticClass:"lock-item is-list lock-content"},[n("div",[n("b-skeleton",{attrs:{animated:!0,count:3,height:"40px"}})],1),t._v(" "),n("div",[n("b-skeleton",{attrs:{animated:!0,count:3,height:"40px"}})],1),t._v(" "),n("div",[n("b-skeleton",{attrs:{animated:!0,count:3,height:"40px"}})],1),t._v(" "),n("div",[n("b-skeleton",{attrs:{animated:!0,count:3,height:"40px"}})],1),t._v(" "),n("div",[n("b-skeleton",{attrs:{animated:!0,count:3,height:"40px"}})],1),t._v(" "),n("div",[n("b-skeleton",{attrs:{animated:!0,count:3,height:"40px"}})],1)]),t._v(" "),t.userLocks&&0==t.userLocks.length?n("div",{staticClass:"empty-list"},[t._m(3),t._v(" "),n("p",[t._v("All locks of this token will appear here.")])]):t._e()],2)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lock-item lock-content is-list is-header"},[n("div",{staticClass:"font-bold"},[t._v("Locked")]),t._v(" "),n("div",{staticClass:"font-bold"},[t._v("Owner")]),t._v(" "),n("div",{staticClass:"font-bold"},[t._v("Lock Date")]),t._v(" "),n("div",{staticClass:"font-bold"},[t._v("Unlock Date")]),t._v(" "),n("div",{staticClass:"font-bold"},[t._v("Status")]),t._v(" "),n("div",{staticClass:"font-bold"},[t._v("Action")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",{staticClass:"header-title"},[this._v("Status")]),e("p",{staticClass:"value status locking"},[this._v("Locking")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",{staticClass:"header-title"},[this._v("Action")]),e("p",{staticClass:"value"},[this._v("Relock")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/empty_box.svg"}})])}],!1,null,null,null).exports;function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var x={name:"LockDetail",computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.b)("common",["translationWord"]),{isLockIdRoute:function(){return this.tokenAddress&&-1!=this.lockIndex}}),components:{LockView:_},data:function(){return{tokenAddress:null,lockIndex:-1}},mounted:function(){var t=this.$route.params.pathMatch;t&&t.split("/").length>=1&&(this.tokenAddress=t.split("/")[0]),t&&t.split("/").length>=2&&(this.lockIndex=t.split("/")[1])},methods:{},head:function(){return{title:"Secure Token Vesting solution",meta:[{hid:"description",name:"description",content:"Token&Liquidity and NFT Locker, lock and manage your team tokens, liquidity, NFTs for Ethereum & BSC & Polygon & Solana & TRON & Almost all EVM-compatible chains securely."}]}}},y=Object(m.a)(x,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-container"},[e("div",{staticClass:"content-container large"},[e("LockView",{attrs:{tokenAddress:this.tokenAddress}})],1)])}),[],!1,null,null,null);e.default=y.exports}}]);