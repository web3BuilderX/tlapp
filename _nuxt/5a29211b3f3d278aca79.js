(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1115:function(r,e,n){const t=n(126),o=n(78);var f="object"==typeof Reflect?Reflect:null,E=f&&"function"==typeof f.apply?f.apply:function(r,e,n){return Function.prototype.apply.call(r,e,n)};function _(){o.call(this)}function I(r,e,n){try{E(r,e,n)}catch(r){setTimeout(()=>{throw r})}}function c(r,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=r[i];return n}r.exports=_,t.inherits(_,o),_.prototype.emit=function(r){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===r,t=this._events;if(void 0!==t)n=n&&void 0===t.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var f=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw f.context=o,f}var E=t[r];if(void 0===E)return!1;if("function"==typeof E)I(E,this,e);else{var _=E.length,l=c(E,_);for(i=0;i<_;++i)I(l[i],this,e)}return!0}},1165:function(r,e,n){(function(e){!function(n){"use strict";var t=function(r){setTimeout(r,0)};void 0!==e&&e&&"function"==typeof e.nextTick&&(t=e.nextTick),r.exports=function(r){var e={capacity:r||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===e.firstHere){e.current++,e.firstHere=!0;var r=1}else r=0;var n={n:1};"function"==typeof arguments[0]?n.task=arguments[0]:n.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?n.task=arguments[1]:n.n=arguments[1]);var t=n.task;if(n.task=function(){t(e.leave)},e.current+n.n-r>e.capacity)return 1===r&&(e.current--,e.firstHere=!1),e.queue.push(n);e.current+=n.n-r,n.task(e.leave),1===r&&(e.firstHere=!1)},leave:function(r){if(r=r||1,e.current-=r,e.queue.length){var n=e.queue[0];n.n+e.current>e.capacity||(e.queue.shift(),e.current+=n.n,t(n.task))}else if(e.current<0)throw new Error("leave called too many times.")},available:function(r){return r=r||1,e.current+r<=e.capacity}};return e}}()}).call(this,n(31))},21:function(r,e,n){var t=n(11),o=t.Buffer;function f(r,e){for(var n in r)e[n]=r[n]}function E(r,e,n){return o(r,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?r.exports=t:(f(t,e),e.Buffer=E),f(o,E),E.from=function(r,e,n){if("number"==typeof r)throw new TypeError("Argument must not be a number");return o(r,e,n)},E.alloc=function(r,e,n){if("number"!=typeof r)throw new TypeError("Argument must be a number");var t=o(r);return void 0!==e?"string"==typeof n?t.fill(e,n):t.fill(e):t.fill(0),t},E.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return o(r)},E.allocUnsafeSlow=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return t.SlowBuffer(r)}},213:function(r,e,n){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0});var t=n(25);function o(r,base){if("00"===r.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(r,base)}function f(e,n){if(e<56)return r.from([e+n]);var t=_(e),o=_(n+55+t.length/2);return r.from(o+t,"hex")}function E(r){return"0x"===r.slice(0,2)}function _(r){if(r<0)throw new Error("Invalid integer as argument, must be unsigned!");var e=r.toString(16);return e.length%2?"0"+e:e}function I(e){if(!r.isBuffer(e)){if("string"==typeof e)return E(e)?r.from((a="string"!=typeof(o=e)?o:E(o)?o.slice(2):o).length%2?"0"+a:a,"hex"):r.from(e);if("number"==typeof e)return e?(n=_(e),r.from(n,"hex")):r.from([]);if(null==e)return r.from([]);if(e instanceof Uint8Array)return r.from(e);if(t.isBN(e))return r.from(e.toArray());throw new Error("invalid type")}var n,a,o;return e}e.encode=function e(input){if(Array.isArray(input)){for(var output=[],i=0;i<input.length;i++)output.push(e(input[i]));var n=r.concat(output);return r.concat([f(n.length,192),n])}var t=I(input);return 1===t.length&&t[0]<128?t:r.concat([f(t.length,128),t])},e.decode=function(input,e){if(void 0===e&&(e=!1),!input||0===input.length)return r.from([]);var n=function e(input){var n,t,data,f,E,_=[],I=input[0];if(I<=127)return{data:input.slice(0,1),remainder:input.slice(1)};if(I<=183){if(n=I-127,data=128===I?r.from([]):input.slice(1,n),2===n&&data[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:data,remainder:input.slice(n)}}if(I<=191){if(t=I-182,n=o(input.slice(1,t).toString("hex"),16),(data=input.slice(t,n+t)).length<n)throw new Error("invalid RLP");return{data:data,remainder:input.slice(n+t)}}if(I<=247){for(n=I-191,f=input.slice(1,n);f.length;)E=e(f),_.push(E.data),f=E.remainder;return{data:_,remainder:input.slice(n)}}t=I-246,n=o(input.slice(1,t).toString("hex"),16);var c=t+n;if(c>input.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(f=input.slice(t,c)).length)throw new Error("invalid rlp, List has a invalid length");for(;f.length;)E=e(f),_.push(E.data),f=E.remainder;return{data:_,remainder:input.slice(c)}}(I(input));if(e)return n;if(0!==n.remainder.length)throw new Error("invalid remainder");return n.data},e.getLength=function(input){if(!input||0===input.length)return r.from([]);var e=I(input),n=e[0];if(n<=127)return e.length;if(n<=183)return n-127;if(n<=191)return n-182;if(n<=247)return n-191;var t=n-246;return t+o(e.slice(1,t).toString("hex"),16)}}).call(this,n(11).Buffer)},488:function(r,e,n){"use strict";r.exports=n(982)(n(986))},489:function(r){r.exports=JSON.parse('{"COMPRESSED_TYPE_INVALID":"compressed should be a boolean","EC_PRIVATE_KEY_TYPE_INVALID":"private key should be a Buffer","EC_PRIVATE_KEY_LENGTH_INVALID":"private key length is invalid","EC_PRIVATE_KEY_RANGE_INVALID":"private key range is invalid","EC_PRIVATE_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting private key is invalid","EC_PRIVATE_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PRIVATE_KEY_EXPORT_DER_FAIL":"couldn\'t export to DER format","EC_PRIVATE_KEY_IMPORT_DER_FAIL":"couldn\'t import from DER format","EC_PUBLIC_KEYS_TYPE_INVALID":"public keys should be an Array","EC_PUBLIC_KEYS_LENGTH_INVALID":"public keys Array should have at least 1 element","EC_PUBLIC_KEY_TYPE_INVALID":"public key should be a Buffer","EC_PUBLIC_KEY_LENGTH_INVALID":"public key length is invalid","EC_PUBLIC_KEY_PARSE_FAIL":"the public key could not be parsed or is invalid","EC_PUBLIC_KEY_CREATE_FAIL":"private was invalid, try again","EC_PUBLIC_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting public key is invalid","EC_PUBLIC_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PUBLIC_KEY_COMBINE_FAIL":"the sum of the public keys is not valid","ECDH_FAIL":"scalar was invalid (zero or overflow)","ECDSA_SIGNATURE_TYPE_INVALID":"signature should be a Buffer","ECDSA_SIGNATURE_LENGTH_INVALID":"signature length is invalid","ECDSA_SIGNATURE_PARSE_FAIL":"couldn\'t parse signature","ECDSA_SIGNATURE_PARSE_DER_FAIL":"couldn\'t parse DER signature","ECDSA_SIGNATURE_SERIALIZE_DER_FAIL":"couldn\'t serialize signature to DER format","ECDSA_SIGN_FAIL":"nonce generation function failed or private key is invalid","ECDSA_RECOVER_FAIL":"couldn\'t recover public key from signature","MSG32_TYPE_INVALID":"message should be a Buffer","MSG32_LENGTH_INVALID":"message length is invalid","OPTIONS_TYPE_INVALID":"options should be an Object","OPTIONS_DATA_TYPE_INVALID":"options.data should be a Buffer","OPTIONS_DATA_LENGTH_INVALID":"options.data length is invalid","OPTIONS_NONCEFN_TYPE_INVALID":"options.noncefn should be a Function","RECOVERY_ID_TYPE_INVALID":"recovery should be a Number","RECOVERY_ID_VALUE_INVALID":"recovery should have value between -1 and 4","TWEAK_TYPE_INVALID":"tweak should be a Buffer","TWEAK_LENGTH_INVALID":"tweak length is invalid"}')},982:function(r,e,n){"use strict";var t=n(983),o=n(984),f=n(489);function E(r,e){return void 0===r?e:(t.isBoolean(r,f.COMPRESSED_TYPE_INVALID),r)}r.exports=function(r){return{privateKeyVerify:function(e){return t.isBuffer(e,f.EC_PRIVATE_KEY_TYPE_INVALID),32===e.length&&r.privateKeyVerify(e)},privateKeyExport:function(e,n){t.isBuffer(e,f.EC_PRIVATE_KEY_TYPE_INVALID),t.isBufferLength(e,32,f.EC_PRIVATE_KEY_LENGTH_INVALID),n=E(n,!0);var _=r.privateKeyExport(e,n);return o.privateKeyExport(e,_,n)},privateKeyImport:function(e){if(t.isBuffer(e,f.EC_PRIVATE_KEY_TYPE_INVALID),(e=o.privateKeyImport(e))&&32===e.length&&r.privateKeyVerify(e))return e;throw new Error(f.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(e){return t.isBuffer(e,f.EC_PRIVATE_KEY_TYPE_INVALID),t.isBufferLength(e,32,f.EC_PRIVATE_KEY_LENGTH_INVALID),r.privateKeyNegate(e)},privateKeyModInverse:function(e){return t.isBuffer(e,f.EC_PRIVATE_KEY_TYPE_INVALID),t.isBufferLength(e,32,f.EC_PRIVATE_KEY_LENGTH_INVALID),r.privateKeyModInverse(e)},privateKeyTweakAdd:function(e,n){return t.isBuffer(e,f.EC_PRIVATE_KEY_TYPE_INVALID),t.isBufferLength(e,32,f.EC_PRIVATE_KEY_LENGTH_INVALID),t.isBuffer(n,f.TWEAK_TYPE_INVALID),t.isBufferLength(n,32,f.TWEAK_LENGTH_INVALID),r.privateKeyTweakAdd(e,n)},privateKeyTweakMul:function(e,n){return t.isBuffer(e,f.EC_PRIVATE_KEY_TYPE_INVALID),t.isBufferLength(e,32,f.EC_PRIVATE_KEY_LENGTH_INVALID),t.isBuffer(n,f.TWEAK_TYPE_INVALID),t.isBufferLength(n,32,f.TWEAK_LENGTH_INVALID),r.privateKeyTweakMul(e,n)},publicKeyCreate:function(e,n){return t.isBuffer(e,f.EC_PRIVATE_KEY_TYPE_INVALID),t.isBufferLength(e,32,f.EC_PRIVATE_KEY_LENGTH_INVALID),n=E(n,!0),r.publicKeyCreate(e,n)},publicKeyConvert:function(e,n){return t.isBuffer(e,f.EC_PUBLIC_KEY_TYPE_INVALID),t.isBufferLength2(e,33,65,f.EC_PUBLIC_KEY_LENGTH_INVALID),n=E(n,!0),r.publicKeyConvert(e,n)},publicKeyVerify:function(e){return t.isBuffer(e,f.EC_PUBLIC_KEY_TYPE_INVALID),r.publicKeyVerify(e)},publicKeyTweakAdd:function(e,n,o){return t.isBuffer(e,f.EC_PUBLIC_KEY_TYPE_INVALID),t.isBufferLength2(e,33,65,f.EC_PUBLIC_KEY_LENGTH_INVALID),t.isBuffer(n,f.TWEAK_TYPE_INVALID),t.isBufferLength(n,32,f.TWEAK_LENGTH_INVALID),o=E(o,!0),r.publicKeyTweakAdd(e,n,o)},publicKeyTweakMul:function(e,n,o){return t.isBuffer(e,f.EC_PUBLIC_KEY_TYPE_INVALID),t.isBufferLength2(e,33,65,f.EC_PUBLIC_KEY_LENGTH_INVALID),t.isBuffer(n,f.TWEAK_TYPE_INVALID),t.isBufferLength(n,32,f.TWEAK_LENGTH_INVALID),o=E(o,!0),r.publicKeyTweakMul(e,n,o)},publicKeyCombine:function(e,n){t.isArray(e,f.EC_PUBLIC_KEYS_TYPE_INVALID),t.isLengthGTZero(e,f.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<e.length;++i)t.isBuffer(e[i],f.EC_PUBLIC_KEY_TYPE_INVALID),t.isBufferLength2(e[i],33,65,f.EC_PUBLIC_KEY_LENGTH_INVALID);return n=E(n,!0),r.publicKeyCombine(e,n)},signatureNormalize:function(e){return t.isBuffer(e,f.ECDSA_SIGNATURE_TYPE_INVALID),t.isBufferLength(e,64,f.ECDSA_SIGNATURE_LENGTH_INVALID),r.signatureNormalize(e)},signatureExport:function(e){t.isBuffer(e,f.ECDSA_SIGNATURE_TYPE_INVALID),t.isBufferLength(e,64,f.ECDSA_SIGNATURE_LENGTH_INVALID);var n=r.signatureExport(e);return o.signatureExport(n)},signatureImport:function(e){t.isBuffer(e,f.ECDSA_SIGNATURE_TYPE_INVALID),t.isLengthGTZero(e,f.ECDSA_SIGNATURE_LENGTH_INVALID);var n=o.signatureImport(e);if(n)return r.signatureImport(n);throw new Error(f.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(e){t.isBuffer(e,f.ECDSA_SIGNATURE_TYPE_INVALID),t.isLengthGTZero(e,f.ECDSA_SIGNATURE_LENGTH_INVALID);var n=o.signatureImportLax(e);if(n)return r.signatureImport(n);throw new Error(f.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(e,n,o){t.isBuffer(e,f.MSG32_TYPE_INVALID),t.isBufferLength(e,32,f.MSG32_LENGTH_INVALID),t.isBuffer(n,f.EC_PRIVATE_KEY_TYPE_INVALID),t.isBufferLength(n,32,f.EC_PRIVATE_KEY_LENGTH_INVALID);var data=null,E=null;return void 0!==o&&(t.isObject(o,f.OPTIONS_TYPE_INVALID),void 0!==o.data&&(t.isBuffer(o.data,f.OPTIONS_DATA_TYPE_INVALID),t.isBufferLength(o.data,32,f.OPTIONS_DATA_LENGTH_INVALID),data=o.data),void 0!==o.noncefn&&(t.isFunction(o.noncefn,f.OPTIONS_NONCEFN_TYPE_INVALID),E=o.noncefn)),r.sign(e,n,E,data)},verify:function(e,n,o){return t.isBuffer(e,f.MSG32_TYPE_INVALID),t.isBufferLength(e,32,f.MSG32_LENGTH_INVALID),t.isBuffer(n,f.ECDSA_SIGNATURE_TYPE_INVALID),t.isBufferLength(n,64,f.ECDSA_SIGNATURE_LENGTH_INVALID),t.isBuffer(o,f.EC_PUBLIC_KEY_TYPE_INVALID),t.isBufferLength2(o,33,65,f.EC_PUBLIC_KEY_LENGTH_INVALID),r.verify(e,n,o)},recover:function(e,n,o,_){return t.isBuffer(e,f.MSG32_TYPE_INVALID),t.isBufferLength(e,32,f.MSG32_LENGTH_INVALID),t.isBuffer(n,f.ECDSA_SIGNATURE_TYPE_INVALID),t.isBufferLength(n,64,f.ECDSA_SIGNATURE_LENGTH_INVALID),t.isNumber(o,f.RECOVERY_ID_TYPE_INVALID),t.isNumberInInterval(o,-1,4,f.RECOVERY_ID_VALUE_INVALID),_=E(_,!0),r.recover(e,n,o,_)},ecdh:function(e,n){return t.isBuffer(e,f.EC_PUBLIC_KEY_TYPE_INVALID),t.isBufferLength2(e,33,65,f.EC_PUBLIC_KEY_LENGTH_INVALID),t.isBuffer(n,f.EC_PRIVATE_KEY_TYPE_INVALID),t.isBufferLength(n,32,f.EC_PRIVATE_KEY_LENGTH_INVALID),r.ecdh(e,n)},ecdhUnsafe:function(e,n,o){return t.isBuffer(e,f.EC_PUBLIC_KEY_TYPE_INVALID),t.isBufferLength2(e,33,65,f.EC_PUBLIC_KEY_LENGTH_INVALID),t.isBuffer(n,f.EC_PRIVATE_KEY_TYPE_INVALID),t.isBufferLength(n,32,f.EC_PRIVATE_KEY_LENGTH_INVALID),o=E(o,!0),r.ecdhUnsafe(e,n,o)}}}},983:function(r,e,n){"use strict";(function(r){var n=Object.prototype.toString;e.isArray=function(r,e){if(!Array.isArray(r))throw TypeError(e)},e.isBoolean=function(r,e){if("[object Boolean]"!==n.call(r))throw TypeError(e)},e.isBuffer=function(e,n){if(!r.isBuffer(e))throw TypeError(n)},e.isFunction=function(r,e){if("[object Function]"!==n.call(r))throw TypeError(e)},e.isNumber=function(r,e){if("[object Number]"!==n.call(r))throw TypeError(e)},e.isObject=function(r,e){if("[object Object]"!==n.call(r))throw TypeError(e)},e.isBufferLength=function(r,e,n){if(r.length!==e)throw RangeError(n)},e.isBufferLength2=function(r,e,n,t){if(r.length!==e&&r.length!==n)throw RangeError(t)},e.isLengthGTZero=function(r,e){if(0===r.length)throw RangeError(e)},e.isNumberInInterval=function(r,e,n,t){if(r<=e||r>=n)throw RangeError(t)}}).call(this,n(11).Buffer)},984:function(r,e,n){"use strict";var t=n(21).Buffer,o=n(985),f=t.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),E=t.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e.privateKeyExport=function(r,e,n){var o=t.from(n?f:E);return r.copy(o,n?8:9),e.copy(o,n?181:214),o},e.privateKeyImport=function(r){var e=r.length,n=0;if(!(e<n+1||48!==r[n])&&!(e<(n+=1)+1)&&128&r[n]){var t=127&r[n];if(n+=1,!(t<1||t>2||e<n+t)){var o=r[n+t-1]|(t>1?r[n+t-2]<<8:0);if(!(e<(n+=t)+o||e<n+3||2!==r[n]||1!==r[n+1]||1!==r[n+2]||e<(n+=3)+2||4!==r[n]||r[n+1]>32||e<n+2+r[n+1]))return r.slice(n+2,n+2+r[n+1])}}},e.signatureExport=function(r){for(var e=t.concat([t.from([0]),r.r]),n=33,f=0;n>1&&0===e[f]&&!(128&e[f+1]);--n,++f);for(var s=t.concat([t.from([0]),r.s]),E=33,_=0;E>1&&0===s[_]&&!(128&s[_+1]);--E,++_);return o.encode(e.slice(f),s.slice(_))},e.signatureImport=function(r){var e=t.alloc(32,0),s=t.alloc(32,0);try{var n=o.decode(r);if(33===n.r.length&&0===n.r[0]&&(n.r=n.r.slice(1)),n.r.length>32)throw new Error("R length is too long");if(33===n.s.length&&0===n.s[0]&&(n.s=n.s.slice(1)),n.s.length>32)throw new Error("S length is too long")}catch(r){return}return n.r.copy(e,32-n.r.length),n.s.copy(s,32-n.s.length),{r:e,s:s}},e.signatureImportLax=function(r){var e=t.alloc(32,0),s=t.alloc(32,0),n=r.length,o=0;if(48===r[o++]){var f=r[o++];if(!(128&f&&(o+=f-128)>n)&&2===r[o++]){var E=r[o++];if(128&E){if(o+(f=E-128)>n)return;for(;f>0&&0===r[o];o+=1,f-=1);for(E=0;f>0;o+=1,f-=1)E=(E<<8)+r[o]}if(!(E>n-o)){var _=o;if(o+=E,2===r[o++]){var I=r[o++];if(128&I){if(o+(f=I-128)>n)return;for(;f>0&&0===r[o];o+=1,f-=1);for(I=0;f>0;o+=1,f-=1)I=(I<<8)+r[o]}if(!(I>n-o)){var c=o;for(o+=I;E>0&&0===r[_];E-=1,_+=1);if(!(E>32)){var l=r.slice(_,_+E);for(l.copy(e,32-l.length);I>0&&0===r[c];I-=1,c+=1);if(!(I>32)){var A=r.slice(c,c+I);return A.copy(s,32-A.length),{r:e,s:s}}}}}}}}}},986:function(r,e,n){"use strict";var t=n(21).Buffer,o=n(112),f=n(25),E=n(210).ec,_=n(489),I=new E("secp256k1"),c=I.curve;function l(r){var e=r[0];switch(e){case 2:case 3:return 33!==r.length?null:function(r,e){var n=new f(e);if(n.cmp(c.p)>=0)return null;var t=(n=n.toRed(c.red)).redSqr().redIMul(n).redIAdd(c.b).redSqrt();return 3===r!==t.isOdd()&&(t=t.redNeg()),I.keyPair({pub:{x:n,y:t}})}(e,r.slice(1,33));case 4:case 6:case 7:return 65!==r.length?null:function(r,e,n){var t=new f(e),o=new f(n);if(t.cmp(c.p)>=0||o.cmp(c.p)>=0)return null;if(t=t.toRed(c.red),o=o.toRed(c.red),(6===r||7===r)&&o.isOdd()!==(7===r))return null;var E=t.redSqr().redIMul(t);return o.redSqr().redISub(E.redIAdd(c.b)).isZero()?I.keyPair({pub:{x:t,y:o}}):null}(e,r.slice(1,33),r.slice(33,65));default:return null}}e.privateKeyVerify=function(r){var e=new f(r);return e.cmp(c.n)<0&&!e.isZero()},e.privateKeyExport=function(r,e){var n=new f(r);if(n.cmp(c.n)>=0||n.isZero())throw new Error(_.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return t.from(I.keyFromPrivate(r).getPublic(e,!0))},e.privateKeyNegate=function(r){var e=new f(r);return e.isZero()?t.alloc(32):c.n.sub(e).umod(c.n).toArrayLike(t,"be",32)},e.privateKeyModInverse=function(r){var e=new f(r);if(e.cmp(c.n)>=0||e.isZero())throw new Error(_.EC_PRIVATE_KEY_RANGE_INVALID);return e.invm(c.n).toArrayLike(t,"be",32)},e.privateKeyTweakAdd=function(r,e){var n=new f(e);if(n.cmp(c.n)>=0)throw new Error(_.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(n.iadd(new f(r)),n.cmp(c.n)>=0&&n.isub(c.n),n.isZero())throw new Error(_.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return n.toArrayLike(t,"be",32)},e.privateKeyTweakMul=function(r,e){var n=new f(e);if(n.cmp(c.n)>=0||n.isZero())throw new Error(_.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return n.imul(new f(r)),n.cmp(c.n)&&(n=n.umod(c.n)),n.toArrayLike(t,"be",32)},e.publicKeyCreate=function(r,e){var n=new f(r);if(n.cmp(c.n)>=0||n.isZero())throw new Error(_.EC_PUBLIC_KEY_CREATE_FAIL);return t.from(I.keyFromPrivate(r).getPublic(e,!0))},e.publicKeyConvert=function(r,e){var n=l(r);if(null===n)throw new Error(_.EC_PUBLIC_KEY_PARSE_FAIL);return t.from(n.getPublic(e,!0))},e.publicKeyVerify=function(r){return null!==l(r)},e.publicKeyTweakAdd=function(r,e,n){var o=l(r);if(null===o)throw new Error(_.EC_PUBLIC_KEY_PARSE_FAIL);if((e=new f(e)).cmp(c.n)>=0)throw new Error(_.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var E=c.g.mul(e).add(o.pub);if(E.isInfinity())throw new Error(_.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return t.from(E.encode(!0,n))},e.publicKeyTweakMul=function(r,e,n){var o=l(r);if(null===o)throw new Error(_.EC_PUBLIC_KEY_PARSE_FAIL);if((e=new f(e)).cmp(c.n)>=0||e.isZero())throw new Error(_.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return t.from(o.pub.mul(e).encode(!0,n))},e.publicKeyCombine=function(r,e){for(var n=new Array(r.length),i=0;i<r.length;++i)if(n[i]=l(r[i]),null===n[i])throw new Error(_.EC_PUBLIC_KEY_PARSE_FAIL);for(var o=n[0].pub,f=1;f<n.length;++f)o=o.add(n[f].pub);if(o.isInfinity())throw new Error(_.EC_PUBLIC_KEY_COMBINE_FAIL);return t.from(o.encode(!0,e))},e.signatureNormalize=function(r){var e=new f(r.slice(0,32)),s=new f(r.slice(32,64));if(e.cmp(c.n)>=0||s.cmp(c.n)>=0)throw new Error(_.ECDSA_SIGNATURE_PARSE_FAIL);var n=t.from(r);return 1===s.cmp(I.nh)&&c.n.sub(s).toArrayLike(t,"be",32).copy(n,32),n},e.signatureExport=function(r){var e=r.slice(0,32),s=r.slice(32,64);if(new f(e).cmp(c.n)>=0||new f(s).cmp(c.n)>=0)throw new Error(_.ECDSA_SIGNATURE_PARSE_FAIL);return{r:e,s:s}},e.signatureImport=function(r){var e=new f(r.r);e.cmp(c.n)>=0&&(e=new f(0));var s=new f(r.s);return s.cmp(c.n)>=0&&(s=new f(0)),t.concat([e.toArrayLike(t,"be",32),s.toArrayLike(t,"be",32)])},e.sign=function(r,e,n,data){if("function"==typeof n){var o=n;n=function(n){var E=o(r,e,null,data,n);if(!t.isBuffer(E)||32!==E.length)throw new Error(_.ECDSA_SIGN_FAIL);return new f(E)}}var E=new f(e);if(E.cmp(c.n)>=0||E.isZero())throw new Error(_.ECDSA_SIGN_FAIL);var l=I.sign(r,e,{canonical:!0,k:n,pers:data});return{signature:t.concat([l.r.toArrayLike(t,"be",32),l.s.toArrayLike(t,"be",32)]),recovery:l.recoveryParam}},e.verify=function(r,e,n){var t={r:e.slice(0,32),s:e.slice(32,64)},o=new f(t.r),E=new f(t.s);if(o.cmp(c.n)>=0||E.cmp(c.n)>=0)throw new Error(_.ECDSA_SIGNATURE_PARSE_FAIL);if(1===E.cmp(I.nh)||o.isZero()||E.isZero())return!1;var A=l(n);if(null===A)throw new Error(_.EC_PUBLIC_KEY_PARSE_FAIL);return I.verify(r,t,{x:A.pub.x,y:A.pub.y})},e.recover=function(r,e,n,o){var E={r:e.slice(0,32),s:e.slice(32,64)},l=new f(E.r),A=new f(E.s);if(l.cmp(c.n)>=0||A.cmp(c.n)>=0)throw new Error(_.ECDSA_SIGNATURE_PARSE_FAIL);try{if(l.isZero()||A.isZero())throw new Error;var L=I.recoverPubKey(r,E,n);return t.from(L.encode(!0,o))}catch(r){throw new Error(_.ECDSA_RECOVER_FAIL)}},e.ecdh=function(r,n){var t=e.ecdhUnsafe(r,n,!0);return o("sha256").update(t).digest()},e.ecdhUnsafe=function(r,e,n){var o=l(r);if(null===o)throw new Error(_.EC_PUBLIC_KEY_PARSE_FAIL);var E=new f(e);if(E.cmp(c.n)>=0||E.isZero())throw new Error(_.ECDH_FAIL);return t.from(o.pub.mul(E).encode(!0,n))}}}]);